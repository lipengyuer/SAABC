嵌入式系统硬件体系结构。  
嵌入式系统的主要硬件包括：  
(1)嵌入式微处理器。微处理器、微控制器、信号处理器、图形处理器、片上系统。  
（2）存储器。RAM和ROM。  
（3）内(外)总线逻辑。  
（4）看门狗电路。负责在系统发生软件问题后重启系统。  
（5）I/O接口。  
（6）外设。  

嵌入式软件架构的2种典型形式：  
（1）层次化模式架构。   
（2）递归模式架构。  

| 维度                | 层次化架构                  | 递归架构                     |
|---------------------|----------------------------|----------------------------|
| **通信方向**        | 垂直单向（层间调用）        | 水平多向（节点间对等通信）  |
| **修改影响范围**    | 影响相邻层                  | 可能波及整个递归树          |
| **实时性**          | 存在层间延迟                | 本地节点可快速响应          |
| **典型代表系统**    | 传统RTOS应用                | 微服务物联网系统            |
| **调试方法**        | 分层单元测试                | 日志追踪调用链              |

嵌入式操作系统的特点：
（1）可裁剪性。可以方便的裁剪出适合特定应用的功能，比如（不需要通信时）舍弃网络通信模块。  
（2）可移植性。  
（3）强实时性。  
（4）强紧凑性。
（5）高质量代码。  
（6）强定制性。
（7）标准接口。  
（8）强稳定性、弱交互性。  
（9）强确定性。  
（10）操作简洁、方便。  
（11）较强的硬件适应性。  
（12）可固化性。  

嵌入式操作系统的分类：  
（1）面向控制、通信等领域的嵌入式实时操作系统。  
（2）面向消费电子产品的非实时嵌入式操作系统。  

嵌入式操作系统的一般架构。

嵌入式操作系统的基本功能：
（1）两种操作系统内核架构种，内核的功能：宏内核管理用户程序和硬件之间的系统资源；微内核管理着所有的系统资源。
（2）任务管理。任务的最小粒度是进行挥着线程。嵌入式操作系统的任务实时调度问题是这类操作系统任务管理的核心技术。
（3）



### 宏内核VS微内核之 2.1 性能表现
| **特性**       | **宏内核**                              | **微内核**                              |
|----------------|----------------------------------------|----------------------------------------|
| **执行效率**   | 系统调用速度快（无模式切换开销）        | IPC通信引入额外延迟（增加20-30%开销）  |
| **故障影响**   | 驱动故障可能导致内核崩溃                | 单个服务崩溃不影响内核                 |
| **实时性**     | 中断响应可达微秒级（如Linux PREEMPT_RT）| 典型IPC延迟5-10μs（如QNX）             |

### 宏内核VS微内核之 2.2 安全性与可靠性
| **特性**       | **宏内核**                          | **微内核**                          |
|----------------|------------------------------------|------------------------------------|
| **特权级别**   | 大部分代码运行在特权模式（Ring 0）  | 仅核心功能在特权模式               |
| **安全隔离**   | 漏洞可能影响整个系统               | 漏洞通常仅限单个服务               |
| **认证支持**   | 难以通过高安全认证                 | 易通过ASIL D/DO-178C等认证         |

### 宏内核VS微内核之2.3 开发与维护
| **特性**       | **宏内核**                          | **微内核**                          |
|----------------|------------------------------------|------------------------------------|
| **驱动开发**   | 需内核编程经验                     | 可用户态开发驱动                   |
| **系统更新**   | 需重新编译整个内核                 | 可动态加载服务模块                 |
| **调试难度**   | 内核崩溃难调试                     | 服务崩溃易定位                     |